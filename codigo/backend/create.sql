create table tb_consultas (id int8 generated by default as identity, data varchar(255), horario varchar(255), medico bytea, paciente bytea, status int4, primary key (id));
create table tb_doencas (ficha_medica_id int8 not null, doencas varchar(255));
create table tb_fichas_medicas (id int8 generated by default as identity, cardiaco boolean, cartao_sus varchar(255), convenio varchar(255), desmaio_ou_convulsao boolean, diabetico boolean, internado boolean, intolerancia_lactose boolean, numero_carteirinha varchar(255), tipo_sanguineo varchar(255), transfusao boolean, primary key (id));
create table tb_medicamentos (ficha_medica_id int8 not null, medicamentos varchar(255));
create table tb_medicamentos_alergia (ficha_medica_id int8 not null, medicamentos_alergia varchar(255));
create table tb_medico (id int8 generated by default as identity, created_at TIMESTAMP WITHOUT TIME ZONE, usuario_id int8, primary key (id));
create table tb_paciente (id int8 generated by default as identity, created_at TIMESTAMP WITHOUT TIME ZONE, usuario_id int8, primary key (id));
create table tb_roles (id int8 generated by default as identity, authority varchar(255), primary key (id));
create table tb_usuarios (id int8 generated by default as identity, created_at TIMESTAMP WITHOUT TIME ZONE, data_nascimento TIMESTAMP WITHOUT TIME ZONE, email varchar(255), password varchar(255), primeiro_nome varchar(255), sobre_nome varchar(255), updated_at TIMESTAMP WITHOUT TIME ZONE, primary key (id));
create table tb_usuarios_roles (id_usuario int8 not null, id_role int8 not null, primary key (id_usuario, id_role));
create table tb_vacinas (id int8 generated by default as identity, dia_vacina timestamp, ficha_medica bytea, nome_vacina varchar(255), numero_doses int4, primary key (id));
alter table if exists tb_usuarios add constraint UK_hymsg6hpnk88xrsy9kdsuhur9 unique (email);
alter table if exists tb_doencas add constraint FK6kmr7kiwfpv6s2cirq98m6f57 foreign key (ficha_medica_id) references tb_fichas_medicas;
alter table if exists tb_medicamentos add constraint FK8as656xo9b6wueglctsc7mgda foreign key (ficha_medica_id) references tb_fichas_medicas;
alter table if exists tb_medicamentos_alergia add constraint FKlavoh1n3y7f66btn7mj35fetx foreign key (ficha_medica_id) references tb_fichas_medicas;
alter table if exists tb_medico add constraint FKpno121f4b0i5fb87av9ka3h0v foreign key (usuario_id) references tb_usuarios;
alter table if exists tb_paciente add constraint FKs33pektfap0sy9y9iswclxl5 foreign key (usuario_id) references tb_usuarios;
alter table if exists tb_usuarios_roles add constraint FKosdjo4tc31qrl6673m4dv1mp9 foreign key (id_role) references tb_roles;
alter table if exists tb_usuarios_roles add constraint FKmekq34phuxlqo6c1t5719ny2 foreign key (id_usuario) references tb_usuarios;
INSERT INTO tb_roles (authority) VALUES ('ROLE_ADMIN');
INSERT INTO tb_roles (authority) VALUES ('ROLE_MEDICO');
INSERT INTO tb_roles (authority) VALUES ('ROLE_PACIENTE');
INSERT INTO TB_USUARIOS (EMAIL,PASSWORD,PRIMEIRO_NOME,SOBRE_NOME) VALUES ('edson@gmail.com','$2a$10$PZZILrO22dxfvxXpSw/lHOGrfZuHU8qGn0Nb0IoSrYvUl6i1MgmI6','Edson','Campolina');
INSERT INTO TB_USUARIOS (EMAIL,PASSWORD,PRIMEIRO_NOME,SOBRE_NOME) VALUES ('teste@gmail.com','$2a$10$PZZILrO22dxfvxXpSw/lHOGrfZuHU8qGn0Nb0IoSrYvUl6i1MgmI6','Teste','Sobrenome');
INSERT INTO TB_USUARIOS (EMAIL,PASSWORD,PRIMEIRO_NOME,SOBRE_NOME) VALUES ('anna@gmail.com','$2a$10$PZZILrO22dxfvxXpSw/lHOGrfZuHU8qGn0Nb0IoSrYvUl6i1MgmI6','Anna','Laura');
INSERT INTO TB_USUARIOS (EMAIL,PASSWORD,PRIMEIRO_NOME,SOBRE_NOME) VALUES ('rodolfo@gmail.com','$2a$10$PZZILrO22dxfvxXpSw/lHOGrfZuHU8qGn0Nb0IoSrYvUl6i1MgmI6','Rodolfo','Rocha');
INSERT INTO TB_USUARIOS (EMAIL,PASSWORD,PRIMEIRO_NOME,SOBRE_NOME) VALUES ('joao@gmail.com','$2a$10$PZZILrO22dxfvxXpSw/lHOGrfZuHU8qGn0Nb0IoSrYvUl6i1MgmI6','Joao','Mayrink');
INSERT INTO TB_USUARIOS_ROLES VALUES (1,1);
INSERT INTO TB_USUARIOS_ROLES VALUES (2,2);
INSERT INTO TB_USUARIOS_ROLES VALUES (3,2);
INSERT INTO TB_USUARIOS_ROLES VALUES (4,3);
INSERT INTO TB_USUARIOS_ROLES VALUES (5,3);
